#Tagging
##Tags for holding -and switching between totems
tag @a[nbt=!{Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b}]}] remove totemic_hold
tag @a[nbt=!{SelectedItem:{id:"minecraft:totem_of_undying",Count:1b}}] remove totemic_hold
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b}]}] add totemic_hold
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b}}] add totemic_hold
tag @a[tag=totemic_hold] remove totemic_holds_1
tag @a[tag=totemic_hold] remove totemic_holds_2
tag @a[tag=totemic_hold] remove totemic_holds_3
tag @a[tag=totemic_hold] remove totemic_holds_4
tag @a[tag=totemic_hold] remove totemic_holds_5
tag @a[tag=totemic_hold] remove totemic_holds_6
tag @a[tag=totemic_hold] remove totemic_holds_7
tag @a[tag=totemic_hold] remove totemic_holds_8
tag @a[tag=totemic_hold] remove totemic_holds_9
tag @a[tag=totemic_hold] remove totemic_holds_10
tag @a[tag=totemic_hold] remove totemic_holds_11
tag @a[tag=totemic_hold] remove totemic_holds_12
tag @a[tag=totemic_hold] remove totemic_holds_13
tag @a[tag=totemic_hold] remove totemic_holds_14
tag @a[tag=totemic_hold] remove totemic_holds_15
tag @a[tag=totemic_hold] remove totemic_holds_16
tag @a[tag=totemic_hold] remove totemic_holds_17
tag @a[tag=totemic_hold] remove totemic_holds_18
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Bat of Undying","color":"yellow","italic":false}'},CustomModelData:1}}]}] add totemic_holds_1
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Blaze of Undying","color":"yellow","italic":false}'},CustomModelData:2}}]}] add totemic_holds_2
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Creeper of Undying","color":"yellow","italic":false}'},CustomModelData:3}}]}] add totemic_holds_3
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Enderman of Undying","color":"yellow","italic":false}'},CustomModelData:4}}]}] add totemic_holds_4
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Ghast of Undying","color":"yellow","italic":false}'},CustomModelData:5}}]}] add totemic_holds_5
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Guardian of Undying","color":"yellow","italic":false}'},CustomModelData:6}}]}] add totemic_holds_6
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Illager of Undying","color":"yellow","italic":false}'},CustomModelData:7}}]}] add totemic_holds_7
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Shulker of Undying","color":"yellow","italic":false}'},CustomModelData:8}}]}] add totemic_holds_8
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Slime of Undying","color":"yellow","italic":false}'},CustomModelData:9}}]}] add totemic_holds_9
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Spider of Undying","color":"yellow","italic":false}'},CustomModelData:10}}]}] add totemic_holds_10
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Squid of Undying","color":"yellow","italic":false}'},CustomModelData:11}}]}] add totemic_holds_11
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Steve of Undying","color":"yellow","italic":false}'},CustomModelData:12}}]}] add totemic_holds_12
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Wither of Undying","color":"yellow","italic":false}'},CustomModelData:13}}]}] add totemic_holds_13
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Golem of Undying","color":"yellow","italic":false}'},CustomModelData:14}}]}] add totemic_holds_14
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Witch of Undying","color":"yellow","italic":false}'},CustomModelData:15}}]}] add totemic_holds_15
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Totem of Life","color":"red","italic":false}'},CustomModelData:16}}]}] add totemic_holds_16
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Totem of the Void","color":"blue","italic":false}'},CustomModelData:17, totemic:void_totem}}]}] add totemic_holds_17
tag @a[nbt={Inventory:[{Slot:-106b,id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Totem of the Cosmos","color":"green","italic":false}'},CustomModelData:18, totemic:boom}}]}] add totemic_holds_18
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Totem of the Void","color":"blue","italic":false}'},CustomModelData:17, totemic:void_totem}}}] add totemic_holds_17
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Bat of Undying","color":"yellow","italic":false}'},CustomModelData:1}}}] add totemic_holds_1
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Blaze of Undying","color":"yellow","italic":false}'},CustomModelData:2}}}] add totemic_holds_2
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Creeper of Undying","color":"yellow","italic":false}'},CustomModelData:3}}}] add totemic_holds_3
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Enderman of Undying","color":"yellow","italic":false}'},CustomModelData:4}}}] add totemic_holds_4
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Ghast of Undying","color":"yellow","italic":false}'},CustomModelData:5}}}] add totemic_holds_5
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Guardian of Undying","color":"yellow","italic":false}'},CustomModelData:6}}}] add totemic_holds_6
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Illager of Undying","color":"yellow","italic":false}'},CustomModelData:7}}}] add totemic_holds_7
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Shulker of Undying","color":"yellow","italic":false}'},CustomModelData:8}}}] add totemic_holds_8
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Slime of Undying","color":"yellow","italic":false}'},CustomModelData:9}}}] add totemic_holds_9
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Spider of Undying","color":"yellow","italic":false}'},CustomModelData:10}}}] add totemic_holds_10
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Squid of Undying","color":"yellow","italic":false}'},CustomModelData:11}}}] add totemic_holds_11
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Steve of Undying","color":"yellow","italic":false}'},CustomModelData:12}}}] add totemic_holds_12
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Wither of Undying","color":"yellow","italic":false}'},CustomModelData:13}}}] add totemic_holds_13
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Golem of Undying","color":"yellow","italic":false}'},CustomModelData:14}}}] add totemic_holds_14
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Witch of Undying","color":"yellow","italic":false}'},CustomModelData:15}}}] add totemic_holds_15
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Totem of Life","color":"red","italic":false}'},CustomModelData:16}}}] add totemic_holds_16
tag @a[nbt={SelectedItem:{id:"minecraft:totem_of_undying",Count:1b,tag:{display:{Name:'{"text":"Totem of the Cosmos","color":"green","italic":false}'},CustomModelData:18, totemic:boom}}}] add totemic_holds_18
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_1
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_2
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_3
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_4
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_5
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_6
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_7
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_8
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_9
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_10
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_11
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_12
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_13
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_14
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_15
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_16
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_17
tag @a[tag=!totemic_qualified,tag=!totemic_hold] remove totemic_holds_18

##Tags for holding a Steve of Undying and the specific tool
tag @a[tag=totemic_holds_sword] remove totemic_holds_sword
tag @a[nbt={SelectedItem:{id:"minecraft:wooden_sword",Count:1b}}] add totemic_holds_sword
tag @a[nbt={SelectedItem:{id:"minecraft:stone_sword",Count:1b}}] add totemic_holds_sword
tag @a[nbt={SelectedItem:{id:"minecraft:iron_sword",Count:1b}}] add totemic_holds_sword
tag @a[nbt={SelectedItem:{id:"minecraft:golden_sword",Count:1b}}] add totemic_holds_sword
tag @a[nbt={SelectedItem:{id:"minecraft:diamond_sword",Count:1b}}] add totemic_holds_sword
tag @a[nbt={SelectedItem:{id:"minecraft:netherite_sword",Count:1b}}] add totemic_holds_sword
tag @a[tag=totemic_holds_pickaxe] remove totemic_holds_pickaxe
tag @a[nbt={SelectedItem:{id:"minecraft:wooden_pickaxe",Count:1b}}] add totemic_holds_pickaxe
tag @a[nbt={SelectedItem:{id:"minecraft:stone_pickaxe",Count:1b}}] add totemic_holds_pickaxe
tag @a[nbt={SelectedItem:{id:"minecraft:iron_pickaxe",Count:1b}}] add totemic_holds_pickaxe
tag @a[nbt={SelectedItem:{id:"minecraft:golden_pickaxe",Count:1b}}] add totemic_holds_pickaxe
tag @a[nbt={SelectedItem:{id:"minecraft:diamond_pickaxe",Count:1b}}] add totemic_holds_pickaxe
tag @a[nbt={SelectedItem:{id:"minecraft:netherite_pickaxe",Count:1b}}] add totemic_holds_pickaxe
tag @a[tag=totemic_holds_axe] remove totemic_holds_axe
tag @a[nbt={SelectedItem:{id:"minecraft:wooden_axe",Count:1b}}] add totemic_holds_axe
tag @a[nbt={SelectedItem:{id:"minecraft:stone_axe",Count:1b}}] add totemic_holds_axe
tag @a[nbt={SelectedItem:{id:"minecraft:iron_axe",Count:1b}}] add totemic_holds_axe
tag @a[nbt={SelectedItem:{id:"minecraft:golden_axe",Count:1b}}] add totemic_holds_axe
tag @a[nbt={SelectedItem:{id:"minecraft:diamond_axe",Count:1b}}] add totemic_holds_axe
tag @a[nbt={SelectedItem:{id:"minecraft:netherite_axe",Count:1b}}] add totemic_holds_axe
tag @a[tag=totemic_holds_shovel] remove totemic_holds_shovel
tag @a[nbt={SelectedItem:{id:"minecraft:wooden_shovel",Count:1b}}] add totemic_holds_shovel
tag @a[nbt={SelectedItem:{id:"minecraft:stone_shovel",Count:1b}}] add totemic_holds_shovel
tag @a[nbt={SelectedItem:{id:"minecraft:iron_shovel",Count:1b}}] add totemic_holds_shovel
tag @a[nbt={SelectedItem:{id:"minecraft:golden_shovel",Count:1b}}] add totemic_holds_shovel
tag @a[nbt={SelectedItem:{id:"minecraft:diamond_shovel",Count:1b}}] add totemic_holds_shovel
tag @a[nbt={SelectedItem:{id:"minecraft:netherite_shovel",Count:1b}}] add totemic_holds_shovel
tag @a[tag=totemic_holds_trident] remove totemic_holds_trident
tag @a[nbt={SelectedItem:{id:"minecraft:trident",Count:1b}}] add totemic_holds_trident
tag @a[tag=totemic_holds_shield] remove totemic_holds_shield
tag @a[nbt={SelectedItem:{id:"minecraft:shield",Count:1b}}] add totemic_holds_shield
tag @a[tag=totemic_holds_bow] remove totemic_holds_bow
tag @a[nbt={SelectedItem:{id:"minecraft:bow",Count:1b}}] add totemic_holds_bow
tag @a[tag=totemic_holds_crossbow] remove totemic_holds_crossbow
tag @a[nbt={SelectedItem:{id:"minecraft:crossbow",Count:1b}}] add totemic_holds_crossbow

##Dimension and biome Tags
execute as @a[tag=totemic_in_overworld] at @s unless predicate totemic:location/dimensions/overworld run tag @s remove totemic_in_overworld
execute as @a[tag=totemic_in_nether] at @s unless predicate totemic:location/dimensions/the_nether run tag @s remove totemic_in_nether
execute as @a[tag=totemic_in_end] at @s unless predicate totemic:location/dimensions/the_end run tag @s remove totemic_in_end
execute as @a[tag=totemic_in_swamp] at @s unless predicate totemic:location/biomes/swamp run tag @s remove totemic_in_swamp
execute as @a[tag=totemic_loc_det,tag=!totemic_in_overworld] at @s if predicate totemic:location/dimensions/overworld run tag @s add totemic_in_overworld
execute as @a[tag=totemic_loc_det,tag=!totemic_in_nether] at @s if predicate totemic:location/dimensions/the_nether run tag @s add totemic_in_nether
execute as @a[tag=totemic_loc_det,tag=!totemic_in_end] at @s if predicate totemic:location/dimensions/the_end run tag @s add totemic_in_end
execute as @a[tag=totemic_loc_det,tag=!totemic_in_swamp] at @s if predicate totemic:location/biomes/swamp run tag @s add totemic_in_swamp
tag @a[tag=!totemic_passive,tag=!totemic_holds_15] remove totemic_in_overworld
tag @a[tag=!totemic_passive,tag=!totemic_holds_15] remove totemic_in_nether
tag @a[tag=!totemic_passive,tag=!totemic_holds_15] remove totemic_in_end
tag @a[tag=!totemic_passive,tag=!totemic_holds_15] remove totemic_in_swamp
tag @a[tag=!totemic_passive,tag=totemic_holds_15] remove totemic_in_overworld
tag @a[tag=!totemic_passive,tag=totemic_holds_15] remove totemic_in_nether
tag @a[tag=!totemic_passive,tag=totemic_holds_15] remove totemic_in_end
tag @a[tag=!totemic_passive,tag=totemic_holds_15] remove totemic_in_swamp

#Other
##Iron Ingot effect
scoreboard players set @a[tag=totemic_passive,tag=totemic_holds_14,tag=totemic_ironsneak,scores={totemic_bar_cdown=800..}] totemic_bar_cdown 800
scoreboard players remove @a[tag=totemic_passive,tag=totemic_holds_14,tag=totemic_ironsneak,scores={totemic_bar_cdown=1..800}] totemic_bar_cdown 1
tag @a[tag=totemic_passive,tag=totemic_holds_14,tag=totemic_ironsneak,scores={totemic_bar_cdown=1..800},tag=!totemic_nobar] add totemic_nobar
tag @a[tag=totemic_passive,tag=totemic_holds_14,tag=totemic_ironsneak,scores={totemic_bar_cdown=0},tag=totemic_nobar] remove totemic_nobar
